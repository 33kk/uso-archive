<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="refresh" content="0;url=https://ide.geeksforgeeks.org"/>
		<meta name="viewport" content="width=device-width,initial-scale=1" />

		<title>UserStyles.org Archive</title>

		<link rel="canonical" href="https://uso.kkx.one/">
		<link rel="icon" type="image/png" href="./favicon.png" />
		<link rel="stylesheet" href="./build/bundle.css" />
		<link rel="stylesheet" href="./build/extra.css" />

		<!--<script defer src="./build/bundle.js"></script>-->
	</head>
	
	<body>
		<script>
			const base = "https://uso.kkx.one";

			const sortMap = {
				"total-installs": "totalInstalls",
				"rating": "rating",
				"updated": "updated",
				"newest": "created"
			};

			function getDest(q) {
				if (q.get("style"))
					return `${base}/style/${q.get("style")}`;

				let nq = new URLSearchParams();
				let s = q.get("search") || "";

				if (q.get("sort"))
					nq.set("sort", sortMap[q.get("sort")]);
				
				if (q.get("page"))
					nq.set("page", q.get("page"));

				if (q.get("category"))
					s = `#${q.get("category")} ${s}`;
				
				if (q.get("author"))
					s = `@${q.get("author")} ${s}`;
				
				if (s)
					nq.set("search", s);
				
				return `${base}/browse/styles?` + nq.toString();
			}

			window.location = getDest(new URLSearchParams(window.location.search));
		</script>
	</body>
</html>
